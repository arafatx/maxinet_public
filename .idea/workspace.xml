<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="BranchesTreeState">
    <expand>
      <path>
        <item name="ROOT" type="e8cecc67:BranchNodeDescriptor" />
        <item name="LOCAL_ROOT" type="e8cecc67:BranchNodeDescriptor" />
      </path>
    </expand>
    <select />
  </component>
  <component name="ChangeListManager">
    <list default="true" id="113c828c-9a32-4b24-ab1e-978ce50c6320" name="Default Changelist" comment="Added extra security option for harden_da for issue related to invalid certificate">
      <change beforePath="$PROJECT_DIR$/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/workspace.xml" afterDir="false" />
    </list>
    <option name="SHOW_DIALOG" value="false" />
    <option name="HIGHLIGHT_CONFLICTS" value="true" />
    <option name="HIGHLIGHT_NON_ACTIVE_CHANGELIST" value="false" />
    <option name="LAST_RESOLUTION" value="IGNORE" />
  </component>
  <component name="ComposerSettings">
    <execution />
  </component>
  <component name="Git.Settings">
    <option name="RECENT_GIT_ROOT_PATH" value="$PROJECT_DIR$" />
    <option name="UPDATE_TYPE" value="REBASE" />
  </component>
  <component name="GitToolBoxStore">
    <option name="projectConfigVersion" value="2" />
  </component>
  <component name="JupyterTrust" id="8557b86d-6a50-45db-ace0-04efaf79add5" />
  <component name="ProjectId" id="1n4BxEHbbfffUetR8AIQOCKdrFr" />
  <component name="ProjectViewState">
    <option name="autoscrollFromSource" value="true" />
    <option name="hideEmptyMiddlePackages" value="true" />
    <option name="showLibraryContents" value="true" />
    <option name="showMembers" value="true" />
    <option name="showVisibilityIcons" value="true" />
  </component>
  <component name="PropertiesComponent">
    <property name="RunOnceActivity.OpenProjectViewOnStart" value="true" />
    <property name="RunOnceActivity.ShowReadmeOnStart" value="true" />
    <property name="WebServerToolWindowFactoryState" value="false" />
    <property name="aspect.path.notification.shown" value="true" />
    <property name="last_opened_file_path" value="$PROJECT_DIR$" />
    <property name="project.structure.last.edited" value="Project" />
    <property name="project.structure.proportion" value="0.0" />
    <property name="project.structure.side.proportion" value="0.0" />
  </component>
  <component name="RecentsManager">
    <key name="CopyFile.RECENT_KEYS">
      <recent name="C:\Users\Maxibi\IdeaProjects\maxisetup_public" />
    </key>
  </component>
  <component name="RunManager">
    <configuration default="true" type="ArquillianJUnit" factoryName="" nameIsGenerated="true">
      <option name="arquillianRunConfiguration">
        <value>
          <option name="containerStateName" value="" />
        </value>
      </option>
      <option name="TEST_OBJECT" value="class" />
      <method v="2">
        <option name="Make" enabled="true" />
      </method>
    </configuration>
  </component>
  <component name="SpellCheckerSettings" RuntimeDictionaries="0" Folders="0" CustomDictionaries="0" DefaultDictionary="application-level" UseSingleDictionary="true" transferred="true" />
  <component name="TaskManager">
    <task active="true" id="Default" summary="Default task">
      <changelist id="113c828c-9a32-4b24-ab1e-978ce50c6320" name="Default Changelist" comment="" />
      <created>1610639727171</created>
      <option name="number" value="Default" />
      <option name="presentableId" value="Default" />
      <updated>1610639727171</updated>
      <workItem from="1610639729879" duration="6369000" />
      <workItem from="1610901827130" duration="26000" />
      <workItem from="1611060627378" duration="578000" />
      <workItem from="1611111970165" duration="726000" />
      <workItem from="1611119189290" duration="111000" />
      <workItem from="1611119716499" duration="640000" />
      <workItem from="1611125941805" duration="309000" />
      <workItem from="1611168472056" duration="591000" />
      <workItem from="1611175755428" duration="61000" />
      <workItem from="1611176395419" duration="623000" />
      <workItem from="1611204454142" duration="41000" />
      <workItem from="1611209121554" duration="45000" />
      <workItem from="1611347809837" duration="512000" />
      <workItem from="1611498737863" duration="1042000" />
      <workItem from="1611518018216" duration="133000" />
      <workItem from="1611562272910" duration="1267000" />
      <workItem from="1611606974766" duration="669000" />
      <workItem from="1611668636777" duration="220000" />
      <workItem from="1611676976866" duration="1907000" />
      <workItem from="1611720592625" duration="501000" />
      <workItem from="1611759532844" duration="255000" />
      <workItem from="1611810652589" duration="1907000" />
      <workItem from="1612218855745" duration="84000" />
      <workItem from="1612328072902" duration="431000" />
      <workItem from="1612328605749" duration="15000" />
      <workItem from="1612424397725" duration="99000" />
      <workItem from="1612563031331" duration="1107000" />
      <workItem from="1612595289583" duration="775000" />
      <workItem from="1612629728941" duration="375000" />
      <workItem from="1612691163233" duration="82000" />
      <workItem from="1612803371180" duration="1283000" />
      <workItem from="1612872396241" duration="691000" />
      <workItem from="1612882949536" duration="3686000" />
      <workItem from="1613105200159" duration="810000" />
      <workItem from="1613156115910" duration="685000" />
      <workItem from="1613186808621" duration="220000" />
      <workItem from="1613227232365" duration="1987000" />
      <workItem from="1613303231902" duration="46000" />
    </task>
    <task id="LOCAL-00001" summary="Initial release from beta Version 0.3.2.7-beta">
      <created>1610639956771</created>
      <option name="number" value="00001" />
      <option name="presentableId" value="LOCAL-00001" />
      <option name="project" value="LOCAL" />
      <updated>1610639956771</updated>
    </task>
    <task id="LOCAL-00002" summary="Fixed maxicata directory creation (small changes)&#10;Change code to use built-in maxicata function to init config">
      <created>1611061058090</created>
      <option name="number" value="00002" />
      <option name="presentableId" value="LOCAL-00002" />
      <option name="project" value="LOCAL" />
      <updated>1611061058090</updated>
    </task>
    <task id="LOCAL-00003" summary="Add required components installation and custom env file for maxicata (private code)">
      <created>1611112084944</created>
      <option name="number" value="00003" />
      <option name="presentableId" value="LOCAL-00003" />
      <option name="project" value="LOCAL" />
      <updated>1611112084944</updated>
    </task>
    <task id="LOCAL-00004" summary="Fixed minor bug on extra curly bracket for MAXICATA_AIPDB_REPORT_URL variable for Maxicata script&#10;Maxicata - Fixed bug awk code empty. Re-add code file srch.awk">
      <created>1611119238989</created>
      <option name="number" value="00004" />
      <option name="presentableId" value="LOCAL-00004" />
      <option name="project" value="LOCAL" />
      <updated>1611119238989</updated>
    </task>
    <task id="LOCAL-00005" summary="Add maxiperm installation">
      <created>1611119759780</created>
      <option name="number" value="00005" />
      <option name="presentableId" value="LOCAL-00005" />
      <option name="project" value="LOCAL" />
      <updated>1611119759780</updated>
    </task>
    <task id="LOCAL-00006" summary="Fixed maxiperm wrong binary name from 'maxiperm' to 'perm'&#10;Fixed awk not display result due to missing awk binary. So, added gawk requirement for maxicata and other scripts&#10;added configure_maxicode_pre function to install pre-requisite components for all maxicode">
      <created>1611125978628</created>
      <option name="number" value="00006" />
      <option name="presentableId" value="LOCAL-00006" />
      <option name="project" value="LOCAL" />
      <updated>1611125978628</updated>
    </task>
    <task id="LOCAL-00007" summary="Initial release alpha version v0.1 of maxida (MaxiDA) to manage directadmin functionalities and APIs&#10;Add new function to create reseller package using API">
      <created>1611168526150</created>
      <option name="number" value="00007" />
      <option name="presentableId" value="LOCAL-00007" />
      <option name="project" value="LOCAL" />
      <updated>1611168526150</updated>
    </task>
    <task id="LOCAL-00008" summary="Add API for creating reseller account&#10;Add missing file maxida.env for maxida script">
      <created>1611175801712</created>
      <option name="number" value="00008" />
      <option name="presentableId" value="LOCAL-00008" />
      <option name="project" value="LOCAL" />
      <updated>1611175801712</updated>
    </task>
    <task id="LOCAL-00009" summary="Change reboot order before requesting SSL for Directadmin (Disable reboot after installing CSF)">
      <created>1611176422432</created>
      <option name="number" value="00009" />
      <option name="presentableId" value="LOCAL-00009" />
      <option name="project" value="LOCAL" />
      <updated>1611176422432</updated>
    </task>
    <task id="LOCAL-00010" summary="Remove 3rd party rules from maxisetup and add that in maxicata instead">
      <created>1611204482891</created>
      <option name="number" value="00010" />
      <option name="presentableId" value="LOCAL-00010" />
      <option name="project" value="LOCAL" />
      <updated>1611204482891</updated>
    </task>
    <task id="LOCAL-00011" summary="Minor change- &gt; improve _pause() function to accept both timeout and keypress, so during setup, we can skip sleep function by pressing enter.">
      <created>1611209148834</created>
      <option name="number" value="00011" />
      <option name="presentableId" value="LOCAL-00011" />
      <option name="project" value="LOCAL" />
      <updated>1611209148834</updated>
    </task>
    <task id="LOCAL-00012" summary="Improve DA API such as adding a flexible way to start API session with da_api_admin &quot;start_&lt;role&gt;&quot;&#10;Add API to create packages for reseller and user&#10;Add API to create reseller and user account&#10;Fixed maxida.env at maxida file overwritten with blank environment variables when resume setup">
      <created>1611347876787</created>
      <option name="number" value="00012" />
      <option name="presentableId" value="LOCAL-00012" />
      <option name="project" value="LOCAL" />
      <updated>1611347876787</updated>
    </task>
    <task id="LOCAL-00013" summary="Fixed maxida environment source file (maxida.env) not found&#10;Minor improvement of maxicata on package checking (auto install missing package)&#10;Add maxiaide alpha version 1.0 installation for Debian&#10;Add sample aide.conf for testing&#10;Note that maxida and maxiaide are currently at private repo that need git token access.">
      <created>1611498825417</created>
      <option name="number" value="00013" />
      <option name="presentableId" value="LOCAL-00013" />
      <option name="project" value="LOCAL" />
      <updated>1611498825417</updated>
    </task>
    <task id="LOCAL-00014" summary="Add the ability to add DA user account dynamically from ENV file. For example:&#10;&#10;If we want to create another user for example the 3rd user, we must supply this 5 variables in ENV file ending with the same suffix in this case is 3. You can choose whatever suffix number, the best practice is the suffix should be unique.&#10;&#10;DA_USER_USERNAME3=&quot;myxuser&quot;&#10;DA_USER_USERPASS3=&quot;x12321xxx&quot;&#10;DA_USER_EMAIL3=&quot;webmaster@masternom.com&quot;&#10;DA_USER_DOMAIN3=&quot;masternom.com&quot;&#10;DA_USER_PACKAGE_NAME3=&quot;USER_UNLIMITED&quot;&#10;&#10;This user will be created automatically by Directadmin. Make sure to supply all the information for this 3rd user. If one of the information is missing, DA will not create this user for example domain is missing or email is not set from ENV for this user:&#10;&#10;DA_USER_USERNAME3=&quot;myxuser&quot;&#10;DA_USER_USERPASS3=&quot;x12321xxx&quot;&#10;DA_USER_EMAIL3=&quot;&quot;&#10;DA_USER_PACKAGE_NAME3=&quot;USER_UNLIMITED&quot;&#10;&#10;Then maxisetup will trigger error and tell that domain and email is not set for this user.">
      <created>1611518121401</created>
      <option name="number" value="00014" />
      <option name="presentableId" value="LOCAL-00014" />
      <option name="project" value="LOCAL" />
      <updated>1611518121401</updated>
    </task>
    <task id="LOCAL-00015" summary="Able to select suricata version in ENV file.&#10;Remove unused variables">
      <created>1611562333086</created>
      <option name="number" value="00015" />
      <option name="presentableId" value="LOCAL-00015" />
      <option name="project" value="LOCAL" />
      <updated>1611562333086</updated>
    </task>
    <task id="LOCAL-00016" summary="Add the ability to login as another user and add multiple domains into itself. For example to add multiple domain for a user muser use the following format in ENV file:&#10;=====&#10;DA_USER_USERNAME2=&quot;muser&quot;&#10;DA_USER_USERPASS2=&quot;password&quot;&#10;DA_USER_EMAIL2=&quot;webmaster@kalibmedia.com&quot;&#10;DA_USER_DOMAIN2=&quot;kalibmedia.com kalibtv.com kalibtest.com&quot;&#10;DA_USER_PACKAGE_NAME2=&quot;USER_UNLIMITED&quot;&#10;DA_USER_DOMAIN_ENABLE_SSL2=&quot;yes&quot;&#10;=====&#10;&#10;The script will automatically login as user 'muser' and add the 3 domains for itself&#10;&#10;Now the API authentication can be passed dynamically. For example for this user use the following syntax:&#10;&#10;start+${role_user}+${role_password}&#10;&#10;I use the symbol + instead of _ because '+' is a unique and useless character which cannot be used as password in DA.&#10;&#10;The previous API auth call has changed. eg: from start_admin change to start+admin">
      <created>1611607014737</created>
      <option name="number" value="00016" />
      <option name="presentableId" value="LOCAL-00016" />
      <option name="project" value="LOCAL" />
      <updated>1611607014737</updated>
    </task>
    <task id="LOCAL-00017" summary="Update maxida --api to use any users to use that API (before only owner can use) (note maxida is a private repo)&#10;Update maxisetup DA API to set DKIM and obtained DKIM value. This value is important to be used by external DNS. For example, we can use linode API to update this DKIM value automatically as external DNS record. Linode API will be coming soon ...">
      <created>1611668681681</created>
      <option name="number" value="00017" />
      <option name="presentableId" value="LOCAL-00017" />
      <option name="project" value="LOCAL" />
      <updated>1611668681681</updated>
    </task>
    <task id="LOCAL-00018" summary="Update DA API to be able to obtain the value of domain DNS record, dmarc, spf and dkim. These 3 values are important to have in order to prevent website or email spams. We will pass this value to external DNS such as linode (if it's enabled in ENV file as the external DNS provider)">
      <created>1611677049887</created>
      <option name="number" value="00018" />
      <option name="presentableId" value="LOCAL-00018" />
      <option name="project" value="LOCAL" />
      <updated>1611677049887</updated>
    </task>
    <task id="LOCAL-00019" summary="Add additional information about the script feature">
      <created>1611679482448</created>
      <option name="number" value="00019" />
      <option name="presentableId" value="LOCAL-00019" />
      <option name="project" value="LOCAL" />
      <updated>1611679482448</updated>
    </task>
    <task id="LOCAL-00020" summary="Add the ability to switch DA installation from beta to stable or vise versa based on Poralix idea:&#10; &#10; Switch to stable version -&gt; maxida --switch-da stable or switch to beta version -&gt; maxida --switch-da beta&#10; &#10; Switching to beta version is useful to test beta function of Directadmin. For example the wildcard certificate using external DNS is supported in beta version of DA only.&#10;&#10;TODO: Planning to integrate script with wildcard certificate installation using Lego">
      <created>1611720786588</created>
      <option name="number" value="00020" />
      <option name="presentableId" value="LOCAL-00020" />
      <option name="project" value="LOCAL" />
      <updated>1611720786588</updated>
    </task>
    <task id="LOCAL-00021" summary="1) Update maxida to use custombuild and directadmin functionalities.&#10;&#10;For example to set directadmin ssl=1 use the following:&#10;maxida --da set ssl 1&#10;&#10;To check Directadmin ssl setting:&#10;&#10;maxida --da get ssl&#10;output: ssl=1&#10;&#10;To reboot DA: &#10;maxida --reboot-da or maxida --da reboot&#10;&#10;To build lesencrypt package: &#10;maxida --cb letsencrypt&#10;&#10;To edit directadmin.conf: maxida --edit-daconf&#10;&#10;To edit custombuild options.conf: maxida --edit-cbconf&#10;&#10;To run DA in debug mode: &#10;maxida --debug or maxida --da debug&#10;&#10;=====&#10;&#10;2) Minor change to maxisetup">
      <created>1611759582431</created>
      <option name="number" value="00021" />
      <option name="presentableId" value="LOCAL-00021" />
      <option name="project" value="LOCAL" />
      <updated>1611759582431</updated>
    </task>
    <task id="LOCAL-00022" summary="Add extra commands in maxida&#10;Disable https redirect for all domains (useful to test)&#10;&#10;Fixed, suricata version select version missing variable&#10;Fixed memcached status installation paused and stopped the script from continuing&#10;&#10;Add checking to select DNS provider external or local&#10;&#10;Move ssl configuration after created DA accounts">
      <created>1611810696555</created>
      <option name="number" value="00022" />
      <option name="presentableId" value="LOCAL-00022" />
      <option name="project" value="LOCAL" />
      <updated>1611810696555</updated>
    </task>
    <task id="LOCAL-00023" summary="Update maxida argument&#10;Add new alpha version of maxidns&#10;Implemented linode_api_admin through linode-cli">
      <created>1612218929309</created>
      <option name="number" value="00023" />
      <option name="presentableId" value="LOCAL-00023" />
      <option name="project" value="LOCAL" />
      <updated>1612218929309</updated>
    </task>
    <task id="LOCAL-00024" summary="Update linode API installation&#10;Fixed minor issue domain ID not found in linode API when requesting domain ID for a given domain.&#10;Fixed API exit when looping&#10;Add extra debugging texts&#10;Show latest DA version before installing DA.&#10;Add restart_da when executing configure_admin_accounts and configure_da_accounts&#10;Fixed loop count expression">
      <created>1612328117787</created>
      <option name="number" value="00024" />
      <option name="presentableId" value="LOCAL-00024" />
      <option name="project" value="LOCAL" />
      <updated>1612328117787</updated>
    </task>
    <task id="LOCAL-00025" summary="Add maxicode installation to upgrade maxicode binary when it has update from git. Command to update:&#10;&#10;maxicode --update all (to update all maxicode scripts)&#10;&#10;maxicode --update &lt;package_name&gt; (to update specific maxicode script)&#10;&#10;Add initial sample maxicode.env.sample&#10;&#10;Improved DA API 'get-dns-zone' to use json format (it was in TODO list)&#10;&#10;Changed description of configure_maxibox, it's used for backup not updating maxicode binary.&#10;&#10;Created execution script for maxicode">
      <created>1612424484085</created>
      <option name="number" value="00025" />
      <option name="presentableId" value="LOCAL-00025" />
      <option name="project" value="LOCAL" />
      <updated>1612424484085</updated>
    </task>
    <task id="LOCAL-00026" summary="Fixed nullbytes error on DA API call when using curl (was in TODO list)&#10;&#10;Added the ability to add multiple email for a specific DA user. A new file config to add user with multiple emails is as follow:&#10;&#10;# Use this new format to create another extra user:&#10;&#10;DA_USER_USERNAME2=&quot;da_maxi&quot;&#10;DA_USER_USERPASS2=&quot;*strongpassword&quot;&#10;DA_USER_SYSTEM_EMAIL2=&quot;maxi32@blackhatworld.com&quot;&#10;# user mail account (array index must match between mail_account and mail_password):&#10;DA_USER_MAIL_USER2=(&quot;maxi32@blackhatworld.com&quot; &quot;info@microsoft.com&quot; &quot;sales@dell.com&quot; &quot;sales@acer.com&quot;)&#10;# user mail password (array index must match between mail_account and mail_password):&#10;DA_USER_MAIL_PASSWORD2=(&quot;password1&quot; &quot;password2&quot; &quot;password3&quot; &quot;password4&quot;)&#10;DA_USER_DOMAIN2=(&quot;dell.com&quot; &quot;microsoft.com&quot; &quot;acer.com&quot; &quot;blackhatworld.com&quot; &quot;zone-h.com&quot;)&#10;DA_USER_PACKAGE_NAME2=&quot;USER_UNLIMITED&quot;&#10;DA_USER_DOMAIN_ENABLE_SSL2=&quot;yes&quot;&#10;&#10;===&#10;The above config variables will:&#10;1) Create DA user call da_maxi, assign a default system email as maxi32@blackhatworld.com and a default domain dell.com, if you want microsoft.com to be the default domain, put it as the first index in the array&#10;2) Create all domains specified in DA_USER_DOMAIN array&#10;3) Create all email accounts specified in DA_USER_MAIL_USER array. DA_USER_MAIL_USER array depends on DA_USER_MAIL_PASSWORD array to assign each password for email accounts.&#10;&#10;Added new API action for Directadmin &quot;create-user-email&quot;&#10;&#10;Modified config file (previously called env file) to use real array declaration. &#10;&#10;Now maxi.env is renamed to maxisetup.conf">
      <created>1612563591068</created>
      <option name="number" value="00026" />
      <option name="presentableId" value="LOCAL-00026" />
      <option name="project" value="LOCAL" />
      <updated>1612563591068</updated>
    </task>
    <task id="LOCAL-00027" summary="Added maxicloud installation.">
      <created>1612595417852</created>
      <option name="number" value="00027" />
      <option name="presentableId" value="LOCAL-00027" />
      <option name="project" value="LOCAL" />
      <updated>1612595417852</updated>
    </task>
    <task id="LOCAL-00028" summary="Add the ability to create subdomains for a domain.&#10;&#10;The config file has new variable called: DA_USER_SUBDOMAIN[index]&#10;&#10;Example:&#10;# Format: &lt;subdomain1.subdomain2&gt;+&lt;rootdomain&gt;&#10;# Use plus '+' instead of dot '.'&#10;# because there is no easy way to determine root domain when it has long subdomains due to huge number of TLD&#10;# and those TLD names need to be maintained frequently especially from https://publicsuffix.org/&#10;# you can declare multi subdomains like sub1.sub2.sub3.sub4.sub5+maxibi.com&#10;&#10;DA_USER_SUBDOMAIN1=(&quot;sales+maxibi.com&quot; &quot;login+maxibi.com&quot; &quot;sub1.sub2+maxibi.com&quot; &quot;sub1.sub2+test.com.my&quot;)&#10;&#10;This will create subdomain of sales, login and sub1.sub2 for the domain maxibi.com AND sub1.sub2 for the domain test.com.my">
      <created>1612629917683</created>
      <option name="number" value="00028" />
      <option name="presentableId" value="LOCAL-00028" />
      <option name="project" value="LOCAL" />
      <updated>1612629917683</updated>
    </task>
    <task id="LOCAL-00029" summary="Add URL to sofibox.com">
      <created>1612689883995</created>
      <option name="number" value="00029" />
      <option name="presentableId" value="LOCAL-00029" />
      <option name="project" value="LOCAL" />
      <updated>1612689883995</updated>
    </task>
    <task id="LOCAL-00030" summary="Remove setup data and clear bash history automatically after 120 seconds after installation.">
      <created>1612690763741</created>
      <option name="number" value="00030" />
      <option name="presentableId" value="LOCAL-00030" />
      <option name="project" value="LOCAL" />
      <updated>1612690763741</updated>
    </task>
    <task id="LOCAL-00031" summary="Updated linode_api_admin function&#10;Updated configure_maxicloud function&#10;Created standalone function configure_da_admin_accounts specific for creating admin account (no reseller)&#10;Created standalone function configure_da_reseller_accounts specific for creating reseller accounts&#10;&#10;Now we are able to create multiple seller accounts, multiple domains, emails for this reseller accounts, and reseller are now able to request ssl certificate for its own domain. Previously resellers were not able to request ssl.&#10;&#10;Reseller has new variables. This is the full set of new reseller variables:&#10;&#10;# === DA reseller start ===&#10;# This is DA main reseller. Create at least one reseller here (cannot use '+' for password)&#10;DA_RESELLER_USERNAME1=&quot;da_reseller&quot;&#10;DA_RESELLER_USERPASS1=*long-secured-password*&quot;&#10;DA_RESELLER_SYSTEM_EMAIL1=&quot;webmaster@sofibox.com&quot;&#10;DA_RESELLER_MAIL_USER1=(&quot;webmaster@sofibox.com&quot; &quot;info@sofibox.com&quot;)&#10;DA_RESELLER_MAIL_PASSWORD1=(&quot;A*longemailpass&quot; &quot;BlongemailPass*&quot;)&#10;# This is the main reseller package&#10;DA_RESELLER_PACKAGE_NAME1=&quot;RESELLER_UNLIMITED&quot;&#10;# This is different from BOX_DOMAIN&#10;DA_RESELLER_DOMAIN1=(&quot;sofibox.com&quot;)&#10;DA_RESELLER_SUBDOMAIN1=(&quot;sofibox.com:sales+login+secure&quot;)&#10;# shared or assign - If shared, domain will use the server's main ip. assign will use one of the reseller's ips&#10;DA_RESELLER_IP_TYPE1=&quot;shared&quot;&#10;DA_RESELLER_DOMAIN_ENABLE_SSL1=&quot;yes&quot;&#10;DA_RESELLER_SSL_SUB_NAME1=(&quot;letsencrypt:sofibox.com:www+ftp+mail+pop+smtp+sales+secure+login&quot;)&#10;# === DA reseller end ===&#10;&#10;User also has new syntax on variable DA_USER_SUBDOMAIN[index]&#10;&#10;old variable syntax for DA_USER_SUBDOMAIN:&#10;DA_USER_SUBDOMAIN1=(&quot;sales+maxibi.com&quot; &quot;login+maxibi.com&quot; &quot;sub1.sub2+maxibi.com&quot; &quot;sub3.test.com&quot; &quot;test4.test.com&quot;)&#10;&#10;new variable syntax for DA_USER_SUBDOMAIN is equivalent to above (much shorter):&#10;DA_USER_SUBDOMAIN1=(&quot;maxibi.com:sales+login&quot; &quot;test.com:sub3+test4&quot;)&#10;&#10;Added more code comments">
      <created>1612803410661</created>
      <option name="number" value="00031" />
      <option name="presentableId" value="LOCAL-00031" />
      <option name="project" value="LOCAL" />
      <updated>1612803410661</updated>
    </task>
    <task id="LOCAL-00032" summary="Added a new API to set logo Directadmin logo (default logo and dark logo)">
      <created>1612872482266</created>
      <option name="number" value="00032" />
      <option name="presentableId" value="LOCAL-00032" />
      <option name="project" value="LOCAL" />
      <updated>1612872482266</updated>
    </task>
    <task id="LOCAL-00033" summary="Added API to customize DA skin even further like customize the date and time customize menu for roundcube and phpmyadmin and more.&#10; &#10;New variable for PHPMYADMIN_CUSTOM_NAME=&quot;name&quot;&#10;&#10;Besides the old variable of this:&#10;&#10;# This will show in the roundcube product name and DA menu&#10;ROUNDCUBE_CUSTOM_NAME=&quot;MyMail&quot;&#10;&#10;Now we have new variable for phpmyadmin custom name:&#10;PHPMYADMIN_CUSTOM_NAME=&quot;MyDB&quot;&#10;&#10;This custom name will automatically display on the new DA menu&#10;&#10;Related:&#10;&#10;If you define this 2 variables like this &#10;&#10;ROUNDCUBE_LOGIN_ROUTE=&quot;/newrcroute&quot;&#10;PHPMYADMIN_LOGIN_ROUTE=&quot;/newdbroute&quot;&#10;&#10;This will automatically link to the above route:&#10;&#10;ROUNDCUBE LINK: https://server.test.com/newrcroute&#10;PHPMYADMIN LINK: https://server.test.com/newdbroute&#10;&#10;If you set SECURE_HTTPASSWD_LOGIN_ROUTE=&quot;yes&quot;&#10;&#10;The above 2 custom routes will be protected with another layer of apache directory protection. This will help to prevent bruteforce attack on roundcube and phpmyadmin.">
      <created>1612883138692</created>
      <option name="number" value="00033" />
      <option name="presentableId" value="LOCAL-00033" />
      <option name="project" value="LOCAL" />
      <updated>1612883138692</updated>
    </task>
    <task id="LOCAL-00034" summary="Changed the API authentication syntax from &#10;&#10;start+&lt;user/role&gt;&#10;&#10;to &#10;&#10;signas+&lt;user/role&gt;&#10;&#10;eg:&#10;signas+owner -&gt; This means the first system owner will be signed in to use da_api_admin&#10;&#10;You can even do this (specified username and password)&#10;signas+${username}+${password}&#10;&#10;Improved da_api_admin &quot;set-da-options&quot;&#10;&#10;Added new da_api_admin for &quot;modify-user&quot; where we are able to modify the name, email, nameservers, skin selection of a specified user&#10;&#10;Removed curl --max-time option to prevent timeout because requesting certificate needs more time and decreasing this value will fail the certification request&#10;&#10;Added new separate function to configure owner account called configure_da_owner_accounts()&#10;&#10;Added letsencrypt staging testing to check if domain has no error when requesting real certificate.&#10; &#10;TODO: Skip domain ssl certificate request and resume the certificate request for domains that were not able to request ssl certificate. Resume means, rerun the whole script.&#10; &#10; New variables for maxisetup.conf&#10; &#10; DA_OWNER_NAME[INDEX]&#10; DA_ADMIN_NAME[INDEX]&#10; DA_RESELLER_NAME[INDEX]&#10; DA_USER_NAME[INDEX]">
      <created>1612942632960</created>
      <option name="number" value="00034" />
      <option name="presentableId" value="LOCAL-00034" />
      <option name="project" value="LOCAL" />
      <updated>1612942632960</updated>
    </task>
    <task id="LOCAL-00035" summary="Added new API to add custom security questions and answers for all users (owner, admins, resellers and normal users). &#10;&#10;Able to use add multiple security questions (one question with one answer)&#10;&#10;Added function to validate config files. It will complain if variables are not set correctly. For example this variable:&#10;&#10;DA_ADMIN_USERPASS&#10;&#10;The validate config function will not allow username to have more than 64 characters and it must be a minimum of 6 characters. It also cannot contain both character '&amp;' and '+'. Previously this check was done during installation (wasn't good). It should check before script running.&#10;&#10;Added a new function to manage skin config for owner called configure_da_owner_skins()&#10;&#10;Added a new function to manage skin config for reseller called configure_da_reseller_skins()&#10;&#10;TODO: Able to create multiple admin accounts">
      <created>1613105415377</created>
      <option name="number" value="00035" />
      <option name="presentableId" value="LOCAL-00035" />
      <option name="project" value="LOCAL" />
      <updated>1613105415377</updated>
    </task>
    <task id="LOCAL-00036" summary="Improved config checking for adding multiple admin users&#10;&#10;Removed optional TODO for check_finish_reboot() because it is not good to resume installation without user interaction.&#10;&#10;Moved SSHD config recommended by lynis to secure_box() function&#10;&#10;Added few options to harden DA installation in harden_da() function (more will come in here)&#10;&#10;Added new function for configuring maxinis called configure_maxinis(). This binary will manage lynis binary&#10;&#10;Added an option to disable core dump as suggested by lynis in harden_with_lynis(). Any lynis suggestion will go here (TODO: scan with lynis, get the scan ID and automatically fixed the issue based on common solutions)">
      <created>1613156199137</created>
      <option name="number" value="00036" />
      <option name="presentableId" value="LOCAL-00036" />
      <option name="project" value="LOCAL" />
      <updated>1613156199137</updated>
    </task>
    <task id="LOCAL-00037" summary="Added update and upgrade command to update repo cache&#10;&#10;Added function configure_maxicron() that will be used to manage startup:&#10;&#10;# It will disable startup programs, able to create cronjob easily&#10;# Able to create cronjob with 5 seconds timer which is not available in stock cronjob&#10;# Can enable and disable cronjob easily&#10;# Can list all cronjobs, delete edit remove&#10;&#10;Added extra command to disable core dumps for all users">
      <created>1613186867188</created>
      <option name="number" value="00037" />
      <option name="presentableId" value="LOCAL-00037" />
      <option name="project" value="LOCAL" />
      <updated>1613186867188</updated>
    </task>
    <task id="LOCAL-00038" summary="Improved config file check for DA_&lt;ROLE&gt;_SUBDOMAIN and DA_&lt;ROLE&gt;_SSL_SUB_NAME">
      <created>1613227315344</created>
      <option name="number" value="00038" />
      <option name="presentableId" value="LOCAL-00038" />
      <option name="project" value="LOCAL" />
      <updated>1613227315344</updated>
    </task>
    <task id="LOCAL-00039" summary="Added extra security option for harden_da for issue related to invalid certificate">
      <created>1613229968017</created>
      <option name="number" value="00039" />
      <option name="presentableId" value="LOCAL-00039" />
      <option name="project" value="LOCAL" />
      <updated>1613229968017</updated>
    </task>
    <option name="localTasksCounter" value="40" />
    <servers />
  </component>
  <component name="TypeScriptGeneratedFilesManager">
    <option name="version" value="3" />
  </component>
  <component name="Vcs.Log.Tabs.Properties">
    <option name="TAB_STATES">
      <map>
        <entry key="MAIN">
          <value>
            <State />
          </value>
        </entry>
      </map>
    </option>
    <option name="oldMeFiltersMigrated" value="true" />
  </component>
  <component name="VcsManagerConfiguration">
    <MESSAGE value="Able to select suricata version in ENV file.&#10;Remove unused variables" />
    <MESSAGE value="Add the ability to login as another user and add multiple domains into itself. For example to add multiple domain for a user muser use the following format in ENV file:&#10;=====&#10;DA_USER_USERNAME2=&quot;muser&quot;&#10;DA_USER_USERPASS2=&quot;password&quot;&#10;DA_USER_EMAIL2=&quot;webmaster@kalibmedia.com&quot;&#10;DA_USER_DOMAIN2=&quot;kalibmedia.com kalibtv.com kalibtest.com&quot;&#10;DA_USER_PACKAGE_NAME2=&quot;USER_UNLIMITED&quot;&#10;DA_USER_DOMAIN_ENABLE_SSL2=&quot;yes&quot;&#10;=====&#10;&#10;The script will automatically login as user 'muser' and add the 3 domains for itself&#10;&#10;Now the API authentication can be passed dynamically. For example for this user use the following syntax:&#10;&#10;start+${role_user}+${role_password}&#10;&#10;I use the symbol + instead of _ because '+' is a unique and useless character which cannot be used as password in DA.&#10;&#10;The previous API auth call has changed. eg: from start_admin change to start+admin" />
    <MESSAGE value="Update maxida --api to use any users to use that API (before only owner can use) (note maxida is a private repo)&#10;Update maxisetup DA API to set DKIM and obtained DKIM value. This value is important to be used by external DNS. For example, we can use linode API to update this DKIM value automatically as external DNS record. Linode API will be coming soon ..." />
    <MESSAGE value="Update DA API to be able to obtain the value of domain DNS record, dmarc, spf and dkim. These 3 values are important to have in order to prevent website or email spams. We will pass this value to external DNS such as linode (if it's enabled in ENV file as the external DNS provider)" />
    <MESSAGE value="Add additional information about the script feature" />
    <MESSAGE value="Add the ability to switch DA installation from beta to stable or vise versa based on Poralix idea:&#10; &#10; Switch to stable version -&gt; maxida --switch-da stable or switch to beta version -&gt; maxida --switch-da beta&#10; &#10; Switching to beta version is useful to test beta function of Directadmin. For example the wildcard certificate using external DNS is supported in beta version of DA only.&#10;&#10;TODO: Planning to integrate script with wildcard certificate installation using Lego" />
    <MESSAGE value="1) Update maxida to use custombuild and directadmin functionalities.&#10;&#10;For example to set directadmin ssl=1 use the following:&#10;maxida --da set ssl 1&#10;&#10;To check Directadmin ssl setting:&#10;&#10;maxida --da get ssl&#10;output: ssl=1&#10;&#10;To reboot DA: &#10;maxida --reboot-da or maxida --da reboot&#10;&#10;To build lesencrypt package: &#10;maxida --cb letsencrypt&#10;&#10;To edit directadmin.conf: maxida --edit-daconf&#10;&#10;To edit custombuild options.conf: maxida --edit-cbconf&#10;&#10;To run DA in debug mode: &#10;maxida --debug or maxida --da debug&#10;&#10;=====&#10;&#10;2) Minor change to maxisetup" />
    <MESSAGE value="Add extra commands in maxida&#10;Disable https redirect for all domains (useful to test)&#10;&#10;Fixed, suricata version select version missing variable&#10;Fixed memcached status installation paused and stopped the script from continuing&#10;&#10;Add checking to select DNS provider external or local&#10;&#10;Move ssl configuration after created DA accounts" />
    <MESSAGE value="Update maxida argument&#10;Add new alpha version of maxidns&#10;Implemented linode_api_admin through linode-cli" />
    <MESSAGE value="Update linode API installation&#10;Fixed minor issue domain ID not found in linode API when requesting domain ID for a given domain.&#10;Fixed API exit when looping&#10;Add extra debugging texts&#10;Show latest DA version before installing DA.&#10;Add restart_da when executing configure_admin_accounts and configure_da_accounts&#10;Fixed loop count expression" />
    <MESSAGE value="Add maxicode installation to upgrade maxicode binary when it has update from git. Command to update:&#10;&#10;maxicode --update all (to update all maxicode scripts)&#10;&#10;maxicode --update &lt;package_name&gt; (to update specific maxicode script)&#10;&#10;Add initial sample maxicode.env.sample&#10;&#10;Improved DA API 'get-dns-zone' to use json format (it was in TODO list)&#10;&#10;Changed description of configure_maxibox, it's used for backup not updating maxicode binary.&#10;&#10;Created execution script for maxicode" />
    <MESSAGE value="Fixed nullbytes error on DA API call when using curl (was in TODO list)&#10;&#10;Added the ability to add multiple email for a specific DA user. A new file config to add user with multiple emails is as follow:&#10;&#10;# Use this new format to create another extra user:&#10;&#10;DA_USER_USERNAME2=&quot;da_maxi&quot;&#10;DA_USER_USERPASS2=&quot;*strongpassword&quot;&#10;DA_USER_SYSTEM_EMAIL2=&quot;maxi32@blackhatworld.com&quot;&#10;# user mail account (array index must match between mail_account and mail_password):&#10;DA_USER_MAIL_USER2=(&quot;maxi32@blackhatworld.com&quot; &quot;info@microsoft.com&quot; &quot;sales@dell.com&quot; &quot;sales@acer.com&quot;)&#10;# user mail password (array index must match between mail_account and mail_password):&#10;DA_USER_MAIL_PASSWORD2=(&quot;password1&quot; &quot;password2&quot; &quot;password3&quot; &quot;password4&quot;)&#10;DA_USER_DOMAIN2=(&quot;dell.com&quot; &quot;microsoft.com&quot; &quot;acer.com&quot; &quot;blackhatworld.com&quot; &quot;zone-h.com&quot;)&#10;DA_USER_PACKAGE_NAME2=&quot;USER_UNLIMITED&quot;&#10;DA_USER_DOMAIN_ENABLE_SSL2=&quot;yes&quot;&#10;&#10;===&#10;The above config variables will:&#10;1) Create DA user call da_maxi, assign a default system email as maxi32@blackhatworld.com and a default domain dell.com, if you want microsoft.com to be the default domain, put it as the first index in the array&#10;2) Create all domains specified in DA_USER_DOMAIN array&#10;3) Create all email accounts specified in DA_USER_MAIL_USER array. DA_USER_MAIL_USER array depends on DA_USER_MAIL_PASSWORD array to assign each password for email accounts.&#10;&#10;Added new API action for Directadmin &quot;create-user-email&quot;&#10;&#10;Modified config file (previously called env file) to use real array declaration. &#10;&#10;Now maxi.env is renamed to maxisetup.conf" />
    <MESSAGE value="Added maxicloud installation." />
    <MESSAGE value="Add the ability to create subdomains for a domain.&#10;&#10;The config file has new variable called: DA_USER_SUBDOMAIN[index]&#10;&#10;Example:&#10;# Format: &lt;subdomain1.subdomain2&gt;+&lt;rootdomain&gt;&#10;# Use plus '+' instead of dot '.'&#10;# because there is no easy way to determine root domain when it has long subdomains due to huge number of TLD&#10;# and those TLD names need to be maintained frequently especially from https://publicsuffix.org/&#10;# you can declare multi subdomains like sub1.sub2.sub3.sub4.sub5+maxibi.com&#10;&#10;DA_USER_SUBDOMAIN1=(&quot;sales+maxibi.com&quot; &quot;login+maxibi.com&quot; &quot;sub1.sub2+maxibi.com&quot; &quot;sub1.sub2+test.com.my&quot;)&#10;&#10;This will create subdomain of sales, login and sub1.sub2 for the domain maxibi.com AND sub1.sub2 for the domain test.com.my" />
    <MESSAGE value="Add URL to sofibox.com" />
    <MESSAGE value="Remove setup data and clear bash history automatically after 120 seconds after installation." />
    <MESSAGE value="Updated linode_api_admin function&#10;Updated configure_maxicloud function&#10;Created standalone function configure_da_admin_accounts specific for creating admin account (no reseller)&#10;Created standalone function configure_da_reseller_accounts specific for creating reseller accounts&#10;&#10;Now we are able to create multiple seller accounts, multiple domains, emails for this reseller accounts, and reseller are now able to request ssl certificate for its own domain. Previously resellers were not able to request ssl.&#10;&#10;Reseller has new variables. This is the full set of new reseller variables:&#10;&#10;# === DA reseller start ===&#10;# This is DA main reseller. Create at least one reseller here (cannot use '+' for password)&#10;DA_RESELLER_USERNAME1=&quot;da_reseller&quot;&#10;DA_RESELLER_USERPASS1=*long-secured-password*&quot;&#10;DA_RESELLER_SYSTEM_EMAIL1=&quot;webmaster@sofibox.com&quot;&#10;DA_RESELLER_MAIL_USER1=(&quot;webmaster@sofibox.com&quot; &quot;info@sofibox.com&quot;)&#10;DA_RESELLER_MAIL_PASSWORD1=(&quot;A*longemailpass&quot; &quot;BlongemailPass*&quot;)&#10;# This is the main reseller package&#10;DA_RESELLER_PACKAGE_NAME1=&quot;RESELLER_UNLIMITED&quot;&#10;# This is different from BOX_DOMAIN&#10;DA_RESELLER_DOMAIN1=(&quot;sofibox.com&quot;)&#10;DA_RESELLER_SUBDOMAIN1=(&quot;sofibox.com:sales+login+secure&quot;)&#10;# shared or assign - If shared, domain will use the server's main ip. assign will use one of the reseller's ips&#10;DA_RESELLER_IP_TYPE1=&quot;shared&quot;&#10;DA_RESELLER_DOMAIN_ENABLE_SSL1=&quot;yes&quot;&#10;DA_RESELLER_SSL_SUB_NAME1=(&quot;letsencrypt:sofibox.com:www+ftp+mail+pop+smtp+sales+secure+login&quot;)&#10;# === DA reseller end ===&#10;&#10;User also has new syntax on variable DA_USER_SUBDOMAIN[index]&#10;&#10;old variable syntax for DA_USER_SUBDOMAIN:&#10;DA_USER_SUBDOMAIN1=(&quot;sales+maxibi.com&quot; &quot;login+maxibi.com&quot; &quot;sub1.sub2+maxibi.com&quot; &quot;sub3.test.com&quot; &quot;test4.test.com&quot;)&#10;&#10;new variable syntax for DA_USER_SUBDOMAIN is equivalent to above (much shorter):&#10;DA_USER_SUBDOMAIN1=(&quot;maxibi.com:sales+login&quot; &quot;test.com:sub3+test4&quot;)&#10;&#10;Added more code comments" />
    <MESSAGE value="Added a new API to set logo Directadmin logo (default logo and dark logo)" />
    <MESSAGE value="Added API to customize DA skin even further like customize the date and time customize menu for roundcube and phpmyadmin and more.&#10; &#10;New variable for PHPMYADMIN_CUSTOM_NAME=&quot;name&quot;&#10;&#10;Besides the old variable of this:&#10;&#10;# This will show in the roundcube product name and DA menu&#10;ROUNDCUBE_CUSTOM_NAME=&quot;MyMail&quot;&#10;&#10;Now we have new variable for phpmyadmin custom name:&#10;PHPMYADMIN_CUSTOM_NAME=&quot;MyDB&quot;&#10;&#10;This custom name will automatically display on the new DA menu&#10;&#10;Related:&#10;&#10;If you define this 2 variables like this &#10;&#10;ROUNDCUBE_LOGIN_ROUTE=&quot;/newrcroute&quot;&#10;PHPMYADMIN_LOGIN_ROUTE=&quot;/newdbroute&quot;&#10;&#10;This will automatically link to the above route:&#10;&#10;ROUNDCUBE LINK: https://server.test.com/newrcroute&#10;PHPMYADMIN LINK: https://server.test.com/newdbroute&#10;&#10;If you set SECURE_HTTPASSWD_LOGIN_ROUTE=&quot;yes&quot;&#10;&#10;The above 2 custom routes will be protected with another layer of apache directory protection. This will help to prevent bruteforce attack on roundcube and phpmyadmin." />
    <MESSAGE value="Changed the API authentication syntax from &#10;&#10;start+&lt;user/role&gt;&#10;&#10;to &#10;&#10;signas+&lt;user/role&gt;&#10;&#10;eg:&#10;signas+owner -&gt; This means the first system owner will be signed in to use da_api_admin&#10;&#10;You can even do this (specified username and password)&#10;signas+${username}+${password}&#10;&#10;Improved da_api_admin &quot;set-da-options&quot;&#10;&#10;Added new da_api_admin for &quot;modify-user&quot; where we are able to modify the name, email, nameservers, skin selection of a specified user&#10;&#10;Removed curl --max-time option to prevent timeout because requesting certificate needs more time and decreasing this value will fail the certification request&#10;&#10;Added new separate function to configure owner account called configure_da_owner_accounts()&#10;&#10;Added letsencrypt staging testing to check if domain has no error when requesting real certificate.&#10; &#10;TODO: Skip domain ssl certificate request and resume the certificate request for domains that were not able to request ssl certificate. Resume means, rerun the whole script.&#10; &#10; New variables for maxisetup.conf&#10; &#10; DA_OWNER_NAME[INDEX]&#10; DA_ADMIN_NAME[INDEX]&#10; DA_RESELLER_NAME[INDEX]&#10; DA_USER_NAME[INDEX]" />
    <MESSAGE value="Added new API to add custom security questions and answers for all users (owner, admins, resellers and normal users). &#10;&#10;Able to use add multiple security questions (one question with one answer)&#10;&#10;Added function to validate config files. It will complain if variables are not set correctly. For example this variable:&#10;&#10;DA_ADMIN_USERPASS&#10;&#10;The validate config function will not allow username to have more than 64 characters and it must be a minimum of 6 characters. It also cannot contain both character '&amp;' and '+'. Previously this check was done during installation (wasn't good). It should check before script running.&#10;&#10;Added a new function to manage skin config for owner called configure_da_owner_skins()&#10;&#10;Added a new function to manage skin config for reseller called configure_da_reseller_skins()&#10;&#10;TODO: Able to create multiple admin accounts" />
    <MESSAGE value="Improved config checking for adding multiple admin users&#10;&#10;Removed optional TODO for check_finish_reboot() because it is not good to resume installation without user interaction.&#10;&#10;Moved SSHD config recommended by lynis to secure_box() function&#10;&#10;Added few options to harden DA installation in harden_da() function (more will come in here)&#10;&#10;Added new function for configuring maxinis called configure_maxinis(). This binary will manage lynis binary&#10;&#10;Added an option to disable core dump as suggested by lynis in harden_with_lynis(). Any lynis suggestion will go here (TODO: scan with lynis, get the scan ID and automatically fixed the issue based on common solutions)" />
    <MESSAGE value="Added update and upgrade command to update repo cache&#10;&#10;Added function configure_maxicron() that will be used to manage startup:&#10;&#10;# It will disable startup programs, able to create cronjob easily&#10;# Able to create cronjob with 5 seconds timer which is not available in stock cronjob&#10;# Can enable and disable cronjob easily&#10;# Can list all cronjobs, delete edit remove&#10;&#10;Added extra command to disable core dumps for all users" />
    <MESSAGE value="Improved config file check for DA_&lt;ROLE&gt;_SUBDOMAIN and DA_&lt;ROLE&gt;_SSL_SUB_NAME" />
    <MESSAGE value="Added extra security option for harden_da for issue related to invalid certificate" />
    <option name="LAST_COMMIT_MESSAGE" value="Added extra security option for harden_da for issue related to invalid certificate" />
  </component>
</project>